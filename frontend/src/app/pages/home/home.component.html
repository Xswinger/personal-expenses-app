<app-nav></app-nav>
<div class="container">
  <h2>–ú–æ–∏ —Ä–∞—Å—Ö–æ–¥—ã</h2>

  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <section class="filters">
    <label>
      –°:
      <input type="date" [(ngModel)]="filters.fromDate">
    </label>

    <label>
      –ü–æ:
      <input type="date" [(ngModel)]="filters.toDate">
    </label>

    <label>
      –ö–∞—Ç–µ–≥–æ—Ä–∏—è:
      <select [(ngModel)]="filters.category">
        <option value="">–í—Å–µ</option>
        <option *ngFor="let c of categories" [value]="c">
          {{ c }}
        </option>
      </select>
    </label>

    <button (click)="applyFilters()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
    <button (click)="resetFilters()">–°–±—Ä–æ—Å–∏—Ç—å</button>
  </section>

  <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
  <section class="stats">
    <strong>–°—É–º–º–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥:</strong>
    {{ totalAmount | currency:'RUB':'symbol' }}
  </section>

  <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
  <button class="add-btn" (click)="addExpense()">
    + –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥
  </button>

  <!-- –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤ -->
  <table class="expenses-table">
    <thead>
      <tr>
        <th>–î–∞—Ç–∞</th>
        <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
        <th>–°—É–º–º–∞</th>
        <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let expense of expenses">
        <td>{{ expense.date | date:'dd.MM.yyyy' }}</td>
        <td>{{ expense.category }}</td>
        <td>{{ expense.amount | currency:'RUB':'symbol' }}</td>
        <td>{{ expense.comment }}</td>
        <td class="actions">
          <button (click)="editExpense(expense)">‚úèÔ∏è</button>
          <button (click)="deleteExpense(expense.id)">üóë</button>
        </td>
      </tr>

      <tr *ngIf="expenses.length === 0">
        <td colspan="5" class="empty">
          –†–∞—Å—Ö–æ–¥—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
        </td>
      </tr>
    </tbody>
  </table>
</div>
